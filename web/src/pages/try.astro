---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Try Elo" activeNav="try">
  <main data-controller="playground">
    <section class="editor-panel">
      <div class="editor-header">
        <select data-playground-target="examples" data-action="change->playground#loadExample">
          <option value="">Examples...</option>
          <optgroup label="Basics">
            <option value="arithmetic">Arithmetic</option>
            <option value="strings">Strings</option>
            <option value="booleans">Booleans</option>
            <option value="conditionals">Conditionals</option>
            <option value="variables">Variables</option>
          </optgroup>
          <optgroup label="Data">
            <option value="tuples">Tuples</option>
            <option value="lists">Lists</option>
            <option value="nulls">Null handling</option>
            <option value="input">Input Data (_)</option>
          </optgroup>
          <optgroup label="Functions">
            <option value="lambdas">Lambdas</option>
            <option value="map-filter">Map & Filter</option>
            <option value="pipes">Pipes</option>
          </optgroup>
          <optgroup label="Temporal">
            <option value="dates">Dates</option>
            <option value="durations">Durations</option>
          </optgroup>
          <optgroup label="Type Definitions">
            <option value="type-simple">Struct Schema</option>
            <option value="type-validation">Input Validation</option>
          </optgroup>
        </select>
        <button
          data-playground-target="runButton"
          data-action="click->playground#run"
          class="run-button"
        >Run</button>
      </div>
      <div class="editor-split">
        <div class="editor-pane">
          <div class="pane-header">
            <span class="pane-label">Elo Code</span>
          </div>
          <div
            data-playground-target="editor"
            data-initial-code="let x = 12, y = 13 in x + y"
            class="editor-content"
          ></div>
        </div>
        <div class="editor-pane input-pane">
          <div class="pane-header">
            <span class="pane-label">Input data (<code>_</code>)</span>
          </div>
          <div
            data-playground-target="inputEditor"
            class="editor-content"
          ></div>
        </div>
      </div>
    </section>

    <section class="output-panel">
      <div class="result-panel" data-playground-target="resultPanel">
        <span class="result-label">Result:</span>
        <pre class="result-value" data-playground-target="result"></pre>
      </div>
      <div class="error" data-playground-target="error"></div>
      <div class="panel-header">
        <select
          data-playground-target="language"
          data-action="change->playground#compile"
        >
          <option value="javascript">JavaScript</option>
          <option value="ruby">Ruby</option>
          <option value="sql">SQL</option>
        </select>
        <label class="checkbox-label">
          <input
            type="checkbox"
            data-playground-target="pretty"
            data-action="change->playground#compile"
            checked
          />
          Pretty
        </label>
        <label class="checkbox-label">
          <input
            type="checkbox"
            data-playground-target="prelude"
            data-action="change->playground#compile"
          />
          Prelude
        </label>
        <div class="button-group">
          <button
            data-playground-target="copyButton"
            data-action="click->playground#copy"
            class="secondary-button"
          >Copy</button>
          <button
            data-playground-target="saveButton"
            data-action="click->playground#save"
            class="secondary-button"
          >Save</button>
        </div>
      </div>
      <pre data-playground-target="output"></pre>
    </section>
  </main>
</Layout>
