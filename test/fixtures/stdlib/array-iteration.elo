assert(map([1, 2, 3], fn(x ~> x * 2)) == [2, 4, 6])
assert(filter([1, 2, 3, 4], fn(x ~> x > 2)) == [3, 4])
assert(reduce([1, 2, 3], 0, fn(acc, x ~> acc + x)) == 6)
assert(any([1, 2, 3], fn(x ~> x > 2)) == true)
assert(any([1, 2, 3], fn(x ~> x > 5)) == false)
assert(all([1, 2, 3], fn(x ~> x > 0)) == true)
assert(all([1, 2, 3], fn(x ~> x > 2)) == false)
assert(reduce(['a', 'b', 'c'], '', fn(acc, x ~> acc + x)) == 'abc')
assert(map([], fn(x ~> x * 2)) == [])
assert(filter([], fn(x ~> x > 0)) == [])
assert((let x = 10 in map([1, 2, 3], fn(y ~> x + y))) == [11, 12, 13])  # closure capture
