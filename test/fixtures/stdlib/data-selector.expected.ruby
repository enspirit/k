->(_) { (raise "Assertion failed" unless (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("{\"name\": \"Alice\"}") == {name: "Alice"}; true) }.call(nil);
->(_) { (raise "Assertion failed" unless (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("[1, 2, 3]") == [1, 2, 3]; true) }.call(nil);
->(_) { (raise "Assertion failed" unless (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("{\"user\": {\"name\": \"Bob\"}}")[:user][:name] == "Bob"; true) }.call(nil);
->(_) { (raise "Assertion failed" unless (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("{\"active\": true}")[:active] == true; true) }.call(nil);
->(_) { (raise "Assertion failed" unless (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("{\"count\": 42}")[:count] == 42; true) }.call(nil);
->(_) { (raise "Assertion failed" unless [1, 2, 3] == [1, 2, 3]; true) }.call(nil);
->(_) { (raise "Assertion failed" unless {x: 10}[:x] == 10; true) }.call(nil);
->(_) { (begin; (->() { (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("not valid json") }).call; raise "Expected error but none thrown"; rescue => e; raise e if e.message == "Expected error but none thrown"; true; end) }.call(nil);
->(_) { (raise "Assertion failed" unless ((->(v) { case v when String; JSON.parse(v, symbolize_names: true) rescue raise ".: invalid JSON: #{v.inspect}" else v end }).call(nil)).nil?; true) }.call(nil);
->(_) { (begin; (->() { (->(s) { JSON.parse(s, symbolize_names: true) rescue raise ".: invalid JSON: #{s.inspect}" }).call("invalid") }).call; raise "Expected error but none thrown"; rescue => e; raise e if e.message == "Expected error but none thrown"; true; end) }.call(nil);

