(raise "Assertion failed" unless 123 == 123; true)
(raise "Assertion failed" unless (->(s) { Integer(s) rescue nil }).call("123") == 123; true)
(raise "Assertion failed" unless (->(s) { Integer(s) rescue nil }).call("-42") == -42; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { Integer(s) rescue nil }).call("abc")) == "NoVal"; true)
(raise "Assertion failed" unless 3.14 == 3.14; true)
(raise "Assertion failed" unless (->(s) { Float(s) rescue nil }).call("3.14") == 3.14; true)
(raise "Assertion failed" unless (->(s) { Float(s) rescue nil }).call("-2.5") == -2.5; true)
(raise "Assertion failed" unless (->(s) { Float(s) rescue nil }).call("123") == 123; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { Float(s) rescue nil }).call("abc")) == "NoVal"; true)
(raise "Assertion failed" unless true == true; true)
(raise "Assertion failed" unless false == false; true)
(raise "Assertion failed" unless (->(s) { case s when 'true'; true when 'false'; false else nil end }).call("true") == true; true)
(raise "Assertion failed" unless (->(s) { case s when 'true'; true when 'false'; false else nil end }).call("false") == false; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { case s when 'true'; true when 'false'; false else nil end }).call("yes")) == "NoVal"; true)
(raise "Assertion failed" unless Date.parse('2025-01-15') == Date.parse('2025-01-15'); true)
(raise "Assertion failed" unless (->(s) { s =~ /^\d{4}-\d{2}-\d{2}$/ ? (Date.parse(s) rescue nil) : nil }).call("2025-01-15") == Date.parse('2025-01-15'); true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { s =~ /^\d{4}-\d{2}-\d{2}$/ ? (Date.parse(s) rescue nil) : nil }).call("not-a-date")) == "NoVal"; true)
(raise "Assertion failed" unless DateTime.parse('2025-01-15T10:30:00') == DateTime.parse('2025-01-15T10:30:00'); true)
(raise "Assertion failed" unless (->(s) { DateTime.parse(s) rescue nil }).call("2025-01-15T10:30:00") == DateTime.parse('2025-01-15T10:30:00'); true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { DateTime.parse(s) rescue nil }).call("not-a-datetime")) == "NoVal"; true)
(raise "Assertion failed" unless ActiveSupport::Duration.parse('P1D') == ActiveSupport::Duration.parse('P1D'); true)
(raise "Assertion failed" unless (->(s) { ActiveSupport::Duration.parse(s) rescue nil }).call("P1D") == ActiveSupport::Duration.parse('P1D'); true)
(raise "Assertion failed" unless (->(s) { ActiveSupport::Duration.parse(s) rescue nil }).call("PT2H30M") == ActiveSupport::Duration.parse('PT2H30M'); true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call((->(s) { ActiveSupport::Duration.parse(s) rescue nil }).call("not-a-duration")) == "NoVal"; true)
(raise "Assertion failed" unless ->() { v = (->(s) { Integer(s) rescue nil }).call("bad"); return v unless v.nil?; 0 }.call == 0; true)
(raise "Assertion failed" unless ->() { v = (->(s) { Integer(s) rescue nil }).call("42"); return v unless v.nil?; 0 }.call == 42; true)
