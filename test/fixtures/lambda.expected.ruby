(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x) { x }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x) { x * 2 }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x, y) { x + y }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(a, b, c) { a + b + c }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x) { x * x + 1 }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(price) { price * 1.21 }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(_) { _[:budget] * 1.21 }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(item) { item[:price] + item[:tax] }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x) { (doubled = x * 2; doubled + 1) }) == "Fn"; true)
(raise "Assertion failed" unless (->(v) { case v when NilClass; 'NoVal' when ActiveSupport::Duration; 'Duration' when Date, DateTime, Time; 'DateTime' when Integer; 'Int' when Float; 'Float' when TrueClass, FalseClass; 'Bool' when String; 'String' when Proc; 'Fn' else 'Object' end }).call(->(x) { (x > 0) ? (x) : (0 - x) }) == "Fn"; true)
(raise "Assertion failed" unless (double = ->(x) { x * 2 }; double.call(5)) == 10; true)
(raise "Assertion failed" unless (add = ->(x, y) { x + y }; add.call(3, 4)) == 7; true)
(raise "Assertion failed" unless (double = ->(x) { x * 2 }; double.call(2)) == 4; true)
